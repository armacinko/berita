<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detail - Dapur Pinky</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="main-wrapper">
        <div class="container">
            <a href="index.html" style="color:var(--pink-dark); text-decoration:none; font-weight:bold;">‚Üê Kembali</a>
            <div id="konten-lengkap" class="detail-content" style="margin-top:20px;"></div>
        </div>
        <footer>&copy; 2026 Dapur Pinky</footer>
    </div>

    <script src="data-artikel.js"></script>
    <script>
        const params = new URLSearchParams(window.location.search);
        const artikel = daftarArtikel.find(item => item.id === params.get('id'));

        if (artikel) {
            document.title = artikel.judul;
            document.getElementById('konten-lengkap').innerHTML = `
                <img src="${artikel.gambar}" class="detail-img">
                <span class="tag">${artikel.tag}</span>
                <h1>${artikel.judul}</h1>
                <hr style="border:0; border-top:1px solid #eee; margin:20px 0;">
                <div class="isi-artikel">${artikel.isiLengkap}</div>
            `;

            // --- SISTEM SCHEMA OTOMATIS BERDASARKAN TAG ---
            let type = "Article";
            if (artikel.tag.toLowerCase() === "resep") type = "Recipe";
            if (artikel.tag.toLowerCase() === "berita") type = "NewsArticle";

            const schemaData = {
                "@context": "https://schema.org/",
                "@type": type,
                "headline": artikel.judul,
                "image": [artikel.gambar],
                "datePublished": artikel.tanggal,
                "description": artikel.cuplikan,
                "author": { "@type": "Person", "name": "Admin Dapur Pinky" }
            };
            const script = document.createElement('script');
            script.type = 'application/ld+json';
            script.text = JSON.stringify(schemaData);
            document.head.appendChild(script);
        }

        // PROTEKSI ANTI-COPY & NOFOLLOW
        document.addEventListener('contextmenu', e => e.preventDefault());
        const links = document.getElementsByTagName('a');
        for (let l of links) { 
            if (l.hostname !== window.location.hostname) { 
                l.rel = "nofollow"; 
                l.target = "_blank"; 
            } 
        }
    </script>
</body>
</html>
